{
    "contents" : "---\nlayout: default\ntitle: Rustfare\n---\n\n\n## rustfare-package for R\n\n*toolbox for R language for open welfare data from Russian Federation*\n\nThis site has examples on how to use rustfare-package and up-to-date package-documentation, same as delivered with the package itself. Click here for [rustfare on Github](https://github.com/rOpenGov/rustfare).\n\n## rustfare-package\n\n- The rustfare package pools together tools for searching, extracting, and formatting welfare data on Russian Federation from different data providers. \n- The rustfare functions are named according to data provider or the data set. \n- Currently there is data available from: \n    - Rosstat Regional Statistics, \n    - OECD, \n    - Quality of Governance -institute and\n    - GADM database of Global Administrative Areas. \n    - World Bank World Development Indicators on Russian Federation can be accessed using [WDI-package](http://cran.r-project.org/web/packages/WDI/index.html) (for examples, see: [markuskainu.fi/r-tutorial/wb/](http://markuskainu.fi/r-tutorial/wb/)\n\n## To-do list (20131115)\n- Change the source of Rosstat raw data from [Rosstat Regional statistics](http://www.gks.ru/wps/wcm/connect/rosstat_main/rosstat/ru/statistics/publications/catalog/doc_1138623506156) to [fedstat.ru](http://fedstat.ru/indicators/start.do) and [hub.opengovdata.ru](http://hub.opengovdata.ru/).\n- To incorporate [census data from 2002](http://std.gmcrosstata.ru/webapi/opendatabase?id=vpn2002_pert) and [election data from duma election 2011](http://www.vybory.izbirkom.ru/region/region/izbirkom?action=show&root=1&tvd=100100028713304&vrn=100100028713299&region=0&global=1&sub_region=0&prver=0&pronetvd=null&vibid=100100028713304&type=233) with the package\n\n## Installation\n\n```{rindex2, eval=FALSE, message=FALSE}\nlibrary(devtools)\ninstall_github(repo = \"rustfare\", username = \"rOpenGov\")\nlibrary(rustfare)\n```\n\n## Examples by data source (below on this page)\n\n| Examples | Link to Data | Source Shiny apps |\n| -------- | ------------ | ----------------- |\n| [Rosstat Regional Statistics](index.html) | [Регионы России. Социально-экономические показатели](http://www.gks.ru/wps/wcm/connect/rosstat_main/rosstat/ru/statistics/publications/catalog/doc_1138623506156) | [rustfare-shiny](http://glimmer.rstudio.com/muuankarski/rustfare/) |\n| [Oecd](index.html) | [Country statistical profile: Russian Federation](http://www.oecd-ilibrary.org/economics/country-statistical-profile-russian-federation-2013_csp-rus-table-2013-1-en) | \n| [Spatial operations on GADM data](index.html) | [Global Administrative Areas (GADM)](http://www.gadm.org/) |              \n\n\n# Examples\n\n## Rosstat regional statistics\n\nFunction `IndicatorRosstat()` returns a dataset with available indicators and metadata in Russian and English\n\n```{rrosstat0, eval=FALSE}\nind <- IndicatorRosstat()\nind[1:3,1:3]\n```\n\n[Rosstat regional statistic](http://www.gks.ru/wps/wcm/connect/rosstat_main/rosstat/ru/statistics/publications/catalog/doc_1138623506156) includes values of the indicators on three levels:\n\n1. federal level\n2. federal district level\n3. regional level\n\nTo dowload the data you may use `GetRosstat()`-function that requires two arguments, \n\n1. `indicator` (from the listing above), \n2. `level` (federal/federal_district/region)\n\nThe code below returns a dataset at **federal district level** on **infant mortality** and plots a line graph over time.\n\n\n```{rrosstat, fig.height=5, fig.width=9,cache=TRUE, message=FALSE, eval=TRUE, fig.cap=\"Infant mortality rates at federal district level\"}\nlibrary(rustfare) # load rustfare for obtaining the data\nlibrary(ggplot2) # load ggplot2 for plotting\ndat <- GetRosstat(\"infant_mortality_rate\",\n                   \"federal_district\")\nhead(dat, 3) # print the first 6 rows of data.frame\nggplot(dat, aes(x=year,y=value,color=region_en)) +\n  geom_point() + \n  geom_line() +\n  geom_text(data = subset(dat, year == 2010), \n            aes(x=year,y=value,\n                color=region_en,label=region_en),\n            size=3, hjust=1) +\n  theme(legend.position=\"none\")\n```\n\n\n## GADM database of Global Administrative Areas\n\n\n### Introduction\n\nrustfare has functions for downloading a spatial shapefile from [Global Administrative Areas (GADM)](http://www.gadm.org/) database that can be further used to for example plot the data from Rosstat regional data.\n\nFunction `GetRusGADM()` downloads the shapefile at desired level. Level argument accepts four values:\n\n- `federal`: whole country\n- `federal_districts`: Federal districts (8)\n- `region`: administrative boundaries at the level of federal regions/oblasts (82)\n- `rayon`: administrative boundaries at the level of rayons/krais\n\n\n```{r, eval=TRUE, message=FALSE, eval=FALSE}\nshapefile <- GetRusGADM(level)\n```\n\n\n## Plot shapefiles\n\n### At federal level\n\n```{rmap1, cache=TRUE, message=FALSE, eval=TRUE}\nlibrary(rustfare)\nshapefile <- GetRusGADM(\"federal\")\nplot(shapefile)\n```\n\n### At federal district level\n\n```{rmap2, cache=TRUE, message=FALSE, eval=TRUE}\nlibrary(rustfare)\nshapefile <- GetRusGADM(\"federal_district\")\nplot(shapefile)\n```\n\n### At regional level\n\n```{rmap3,cache=TRUE, message=FALSE, eval=TRUE}\nlibrary(rustfare)\nshapefile <- GetRusGADM(\"region\")\nplot(shapefile)\n```\n\n### At rayon level\n\n```{rmap4,cache=TRUE, message=FALSE, eval=TRUE}\nlibrary(rustfare)\nshapefile <- GetRusGADM(\"rayon\")\nplot(shapefile)\n```\n\n\n\n## Combining data from Rosstat Regional Data with GADM shapefile and visualizing it\n\n### Using maptools and sp\n\n```{rmapcombine, message=FALSE, eval=TRUE, cache=TRUE}\nlibrary(rustfare)\ndat <- GetRosstat(\"average_size_of_pensions\",\n                   \"federal_district\")\ndat10 <- subset(dat, year == 2010)\nshape <- GetRusGADM(\"federal_district\")\nlibrary(maptools)\nrow.names(dat10) <- dat10$id_shape\nrow.names(shape) <- as.character(shape$ID_1)\ndat10 <- dat10[order(row.names(dat10)),]\nshape <- shape[order(row.names(shape)),]\ndf <- spCbind(shape, dat10)\nlibrary(sp)\nspplot(df, \"value\", col.regions=grey.colors(20, 0.9, 0.3))\n```\n\n### Using ggplot2\n\nThere is a `RosstatMapPlot`-function in rustfare that takes `measure`, `year` and `level` as arguments.\n\n#### Infant mortality rate at regional level\n\n```{rrosstatmap1, cache=TRUE, fig.height=7, fig.width=9, message=FALSE, eval=TRUE}\nlibrary(rustfare)\nRosstatMapPlot(\"infant_mortality_rate\",2010,\"region\")\n```\n\n#### Average pension size at federal district level\n\n```{rrosstatmap2, eval=TRUE, cache=TRUE, fig.height=7, fig.width=9, message=FALSE, eval=TRUE}\nlibrary(rustfare)\nRosstatMapPlot(\"average_size_of_pensions\",2010,\"federal_district\")\n```\n\n\n## OECD Country Statistical Profile: Russia\n\n\nAs Russia is not a member of OECD there is only limited data available in here: [Country statistical profile: Russian Federation](http://www.oecd-ilibrary.org/economics/country-statistical-profile-russian-federation-2013_csp-rus-table-2013-1-en). rustfaRe has function to download indicators from that dataset.\n\nFunction `IndicatorOecd()` returns a data.frame with all the indicators listed.\n\n```{roecd1, message=FALSE, eval=FALSE}\nlibrary(rustfaRe)\nhead(IndicatorOecd())\n```\nfor plotting employment rates of different age classes you can try the following example:\n\n```{roecdplot, fig.height=5, fig.width=9, message=FALSE, echo=TRUE, eval=FALSE}\nlibrary(rustfaRe)\nlibrary(ggplot2)\ndat14_24 <- GetOecd(\"employment_rate_in_population_aged_15-24\")\ndat25_54 <- GetOecd(\"employment_rate_in_population_aged_25-54\")\ndat55_64 <- GetOecd(\"employment_rate_in_population_aged_55-64\")\ndat <- rbind(dat14_24,dat25_54,dat55_64)\n\nggplot(dat, aes(x=year,y=value,\n                color=indicator,group=indicator)) +\n  geom_point() + \n  geom_line() +\n  geom_text(data = subset(dat, year == 2009), \n            aes(x=year,y=value,\n                color=indicator,label=indicator),\n            size=3) +\n  theme(legend.position=\"none\")\n```\n\n\n## World Bank World Development Indicators\n\n\nAs for [World Bank Development Indicators](http://data.worldbank.org/data-catalog/world-development-indicators) rustfare relies on [WDI-package](http://cran.r-project.org/web/packages/WDI/index.html) for which you can find examples here [github.com/vincentarelbundock/WDI](https://github.com/vincentarelbundock/WDI).\n\nWith the following code you can plot GDP per capita (current US$) using log-scale from 1990 to 2011.\n\n\n```{rwbplot, fig.height=5, fig.width=9, message=FALSE, echo=TRUE, eval=TRUE}\nlibrary(WDI)\nlibrary(ggplot2)\n# Search for GDP\nhead(WDIsearch('gdp'))\n# code for it NY.GDP.PCAP.CD\n# dowload the data from 1990 to 2011\ndat <- WDI(indicator='NY.GDP.PCAP.CD', # indicator\n           country='RU', # country/countries\n           start=1990, end=2011) # time frame\ndat$NY.GDP.PCAP.CD <- round(dat$NY.GDP.PCAP.CD, 1) # round the value to single decimal\nggplot(dat, aes(x=year,y=NY.GDP.PCAP.CD,\n                group=country,label=NY.GDP.PCAP.CD)) +\n  geom_point() + geom_line() + \n  geom_text(vjust=-1, size=3) +\n  scale_y_log10()\n```\n\n\n## Quality of Governance database\n\n- [Link to Quality of Governance institute](http://www.qog.pol.gu.se/)\n\n>The QoG Institute was founded in 2004 by Professor Bo Rothstein and Professor Sören Holmberg. It is an independent research institute within the Department of Political Science at the University of Gothenburg. We conduct and promote research on the causes, consequences and nature of Good Governance and the Quality of Government (QoG) - that is, trustworthy, reliable, impartial, uncorrupted and competent government institutions.\n\n>The main objective of our research is to address the theoretical and empirical problem of how political institutions of high quality can be created and maintained. A second objective is to study the effects of Quality of Government on a number of policy areas, such as health, the environment, social policy, and poverty. We approach these problems from a variety of different theoretical and methodological angles.\n\nrustfare utilises the **QoG Standard Data**. Site with more information and code books: [QoG Standard Data](http://www.qog.pol.gu.se/data/datadownloads/qogstandarddata/)\n\nBelow is an example on how to extract data on human development index and Democracy (Freedom\nHouse/Polity) index.\n\n```{rqog1, fig.height=5, fig.width=9, message=FALSE, echo=TRUE, eval=FALSE}\nlibrary(rustfare)\ndat <- GetQog(country = c(\"Russia\",\"China\"), # country,countries\n              indicator=c(\"undp_hdi\",\"fh_polity2\")) # indicator(s)\nlibrary(ggplot2)\nggplot(dat, aes(x=year,y=value,color=cname)) + \n  geom_point() + geom_line() +\n  geom_text(data = subset(dat, year == 2003), \n            aes(x=year,y=value,color=cname,label=cname)) +\n  facet_wrap(~indicator, scales=\"free\") +\n  theme(legend.position=\"none\")\n```\n",
    "created" : 1412183082657.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "2099345214",
    "id" : "7A8C935B",
    "lastKnownWriteTime" : 1412183701,
    "path" : "~/web/markuskainu/rustfare.Rmd",
    "project_path" : "rustfare.Rmd",
    "properties" : {
    },
    "source_on_save" : false,
    "type" : "r_markdown"
}